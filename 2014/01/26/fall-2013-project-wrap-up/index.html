<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Fall 2013 Project Wrap Up</title>

  <meta property="og:type" content="article" />
  <meta property="og:title" content="Fall 2013 Project Wrap Up" />
  <meta property="og:url" content="https://twocentstudios.com/2014/01/26/fall-2013-project-wrap-up/" />
  
    <meta property="og:article:published_time" content="2014-01-26T18:43:19-06:00" />
  
  

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Fall 2013 Project Wrap Up" />
  

  <link href='https://fonts.googleapis.com/css2?family=Work+Sans:wght@300;350;400;600' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://twocentstudios.com/2014/01/26/fall-2013-project-wrap-up/">
  <link rel="alternate" type="application/rss+xml" title="twocentstudios" href="https://twocentstudios.com/feed.xml" />
</head>

  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NE82N02W8S"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NE82N02W8S');
</script>

  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">twocentstudios</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
          <a class="page-link" href="/blog/">Blog</a>
          
        
          
        
          
          <a class="page-link" href="/hire-me/">Hire Me</a>
          
        
          
        
          
          <a class="page-link" href="/portfolio/">Portfolio</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Fall 2013 Project Wrap Up</h1>
    <p class="post-meta">Jan 26, 2014</p>
  </header>

  <article class="post-content">
    <p>At the end of every quarter or at least biannually I try to wrap up all the little projects I worked on during that time period that weren’t large enough to warrant their own blog post. Here’s a short summary of all the little projects I’ve worked on since I moved to New York to work at Timehop.</p>

<h2 id="timehop">Timehop</h2>

<p>My full-time job, but worth mentioning that we’ve shipped a lot of features since I started working at Timehop.</p>

<h3 id="combined-share-flow">Combined Share Flow</h3>

<p>We combined sharing to social networks and dark channels (email/sms) into a two panel pop-up behind a single share button on the home screen. I spent most of my time on the email/sms screen. The tricky parts were dealing with using a field that both showed the contacts you had already selected as well as allowing you to enter search mode. There ended up being several screen states with animations between each.</p>

<h3 id="twitter-replies">Twitter @replies</h3>

<p>A short project to allow users to see the full thread of a conversation they had on Twitter. Originally planned to be much more detailed, we decided to scope down the project to push out to Twitter’s web version until we understood how much use the feature would get.</p>

<h3 id="in-app-private-sharing">In-App Private Sharing</h3>

<p>There were two internal prototypes of a feature to share Timehop content within the app before the final released version.</p>

<p>The first featured a drawer that had a tabular list of people or groups that you shared Timehop content to in a long running thread of content and comments.</p>

<p>The second was a two column collection view of Timehop content shared to you. Each piece of content was obscured so that tapping it revealed it in a flip animation.</p>

<p>The released version materialized as a quick share panel of recent contacts or groups that with one tap, you could share Timehop content to. A notification table provided a link to each piece of content, with the content having a detail view with comments.</p>

<p>During this time, I also got to rewire a lot of the message passing that happened within the codebase. And right before shipping, I also refactored the start up, log in, sign up, and welcome flow, and cleaned up the app delegate.</p>

<h3 id="nearby">Nearby</h3>

<p>This feature was a one-week project that aggregated Timehop content that happened near the location you opened the app and allowed you to explore the day it happened. There were a lot of cool animations I got to play around with for this feature.</p>

<h3 id="journaling">Journaling</h3>

<p>We ran a few beta experiments with gathering new content to make next year’s Timehop better.</p>

<p>The first version showed photos from today’s camera roll and allowed you to upload them to Timehop.</p>

<p>Another version presented a different daily screenshot challenge to the user.</p>

<p>Another version showed a front-facing camera window in the bottom of the Timehop day. When you scrolled the window into view it would begin a 3..2..1 countdown and snap a picture of the user. The user could then either upload the photo to see next year or retake it.</p>

<h2 id="vinylogue">Vinylogue</h2>

<p><strong>Status: On Hold</strong></p>

<p>After ignoring it since its April 2013 release, I did a little bit of house cleaning and updating this app for iOS 7. That part was actually pretty easy since the style was pretty stark to begin with.</p>

<p>I started working on a new feature to schedule local notifications to alert the user when their weekly charts have refreshed. In theory, all users are on the exact same schedule of being refreshed on Sunday night, but I wanted to use the actual data I get from Last.fm. There were a lot of other decisions as far as how many local notifications I should schedule in advance (I think I ended up at four), if I should do the scheduling on every app open (by canceling all active notifications and rescheduling them), and if I should do it in primary controller when I fetch year data or in a separate call (I ended up doing it doing it in a separate place).</p>

<p>Unfortunately, I haven’t got around to finishing the feature yet. I’m pretty sure all that’s left is testing. My user base isn’t huge and there hasn’t been much outreach on it, so although it could bring retention numbers up, it hasn’t been at the top of my to do list.</p>

<p>Another feature I’ve wanted to do is some sort of sharing for the album detail view. The only thing I have to get that going is to minorly refactor the view hierarchy.</p>

<h2 id="socketparty">SocketParty</h2>

<p><strong>Status: On Hold</strong></p>

<p>One night after work I decided I wanted to play around with websockets on iOS. So I started a new project, pod installed socket rocket, and started reading the docs. Somehow reading the docs wormholed me into making a game based on colors and the accelerometer (and nothing to do with websockets).</p>

<div class="caption-wrapper"><img class="caption" src="/images/socketparty-1.png" width="" height="" alt="Start screen" title="Start screen" /><div class="caption-text">Start screen</div></div>

<div class="caption-wrapper"><img class="caption" src="/images/socketparty-2.png" width="" height="" alt="Playing the game" title="Playing the game" /><div class="caption-text">Playing the game</div></div>

<p>(Ignore the ugliness, I planned on tightening up the design after I finished the mechanics).</p>

<p>Sort of hard to show in screenshots, but tilting your phone along any of the three axes changes the background color. The goal of the game is to match the randomly selected color on the top by tilting your phone. The player ends up looking like they’re doing a weird dance.</p>

<p>In theory it’s a nominally fun game. In practice, I ran into some development trouble. I’m still unsure of what the range of the raw accelerometer data is. There is very little info in Apple’s docs. It doesn’t help that I have a 4S and I assume they’ve improved the accuracy of the accelerometer a bit in the newer iPhone models.</p>

<p>I somewhat solved the problem of showing “fun” colors. If you use RGB and map floats from 0 to 1, you end up with a lot of ugly grayscale. Not something I initially anticipated. I actually ended up switching to HSV, and the colors are now bright and primary by mapping to a reduced scale of saturation and brightness. Much more fun.</p>

<p>In the current version it’s actually next to impossible to get a match. I thought it would be easy to set a define for the “closeness” that a color match had to be. Something about having three variables and scaling the values along the way makes this not as straightforward as I anticipated.</p>

<p>One interesting part of this project for me was trying AutoLayout for the first time in a real project. Granted, I’m not using it raw via IB or code. I decided to use the wrapper library <a href="https://github.com/smileyborg/UIView-AutoLayout">UIView-Autolayout</a>. As a taster, here’s some of the layout code:</p>

<blockquote>
  <p>in updateViewConstraints</p>
</blockquote>

<figure class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="k">const</span> <span class="n">CGFloat</span> <span class="n">bottomLabelOffset</span> <span class="o">=</span> <span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span><span class="p">;</span>
<span class="k">const</span> <span class="n">CGFloat</span> <span class="n">bottomInterLabelOffset</span> <span class="o">=</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span><span class="p">;</span>
<span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">matchesLeftBottomLabel</span> <span class="nf">autoPinEdge</span><span class="p">:</span><span class="n">ALEdgeBottom</span> <span class="nf">toEdge</span><span class="p">:</span><span class="n">ALEdgeBottom</span> <span class="nf">ofView</span><span class="p">:</span><span class="n">self</span><span class="p">.</span><span class="n">matchesLeftBottomLabel</span><span class="p">.</span><span class="n">superview</span> <span class="nf">withOffset</span><span class="p">:</span><span class="o">-</span><span class="n">bottomLabelOffset</span><span class="p">];</span>
<span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">matchesLeftBottomLabel</span> <span class="nf">autoPinEdge</span><span class="p">:</span><span class="n">ALEdgeLeft</span> <span class="nf">toEdge</span><span class="p">:</span><span class="n">ALEdgeLeft</span> <span class="nf">ofView</span><span class="p">:</span><span class="n">self</span><span class="p">.</span><span class="n">matchesLeftBottomLabel</span><span class="p">.</span><span class="n">superview</span> <span class="nf">withOffset</span><span class="p">:</span><span class="n">bottomLabelOffset</span><span class="p">];</span>
<span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">matchesLeftTopLabel</span> <span class="nf">autoPinEdge</span><span class="p">:</span><span class="n">ALEdgeLeft</span> <span class="nf">toEdge</span><span class="p">:</span><span class="n">ALEdgeLeft</span> <span class="nf">ofView</span><span class="p">:</span><span class="n">self</span><span class="p">.</span><span class="n">matchesLeftTopLabel</span><span class="p">.</span><span class="n">superview</span> <span class="nf">withOffset</span><span class="p">:</span><span class="n">bottomLabelOffset</span><span class="p">];</span>
<span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">matchesLeftTopLabel</span> <span class="nf">autoPinEdge</span><span class="p">:</span><span class="n">ALEdgeBottom</span> <span class="nf">toEdge</span><span class="p">:</span><span class="n">ALEdgeTop</span> <span class="nf">ofView</span><span class="p">:</span><span class="n">self</span><span class="p">.</span><span class="n">matchesLeftBottomLabel</span> <span class="nf">withOffset</span><span class="p">:</span><span class="o">-</span><span class="n">bottomInterLabelOffset</span><span class="p">];</span></code></pre></figure>

<p>It’s actually somewhat similar in API to <a href="https://github.com/podio/ios-view-frame-builder">POViewFrameBuilder</a> which I use often at work. But I remember getting hung up a couple times. It works, but at this point I’m still a little skeptical of what AutoLayout buys you.</p>

<p>The best part of this project is the unrelated name. If I ever decide to finish it, I’ll have to apply a better moniker. I lost interest for now, but maybe when I get a new iPhone I’ll be more inclined to give it another shot.</p>

<h2 id="timesnaphopchat">TimeSnapHopChat</h2>

<p><strong>Status: Dead</strong></p>

<p>I mentioned above that our team at Timehop was experimenting with ways to get people to generate more content for their Timehop days next year. I had the idea over Thanksgiving break to create a Snapchat clone with a Timehop twist.</p>

<p>The idea was that this would be a separate app from Timehop. The interface would be very similar to Snapchat.</p>

<div class="caption-wrapper"><img class="caption" src="/images/timesnaphopchat-1.png" width="" height="" alt="List of sent and received snaps" title="List of sent and received snaps" /><div class="caption-text">List of sent and received snaps</div></div>

<div class="caption-wrapper"><img class="caption" src="/images/timesnaphopchat-2.png" width="" height="" alt="Create a new snap" title="Create a new snap" /><div class="caption-text">Create a new snap</div></div>

<div class="caption-wrapper"><img class="caption" src="/images/timesnaphopchat-3.png" width="" height="" alt="Pick who you want to send it to" title="Pick who you want to send it to" /><div class="caption-text">Pick who you want to send it to</div></div>

<div class="caption-wrapper"><img class="caption" src="/images/timesnaphopchat-4.png" width="" height="" alt="Preview what your Snap will look like to the recipient today and in the future" title="Preview what your Snap will look like to the recipient today and in the future" /><div class="caption-text">Preview what your Snap will look like to the recipient today and in the future</div></div>

<p>The twist to this app would be that the recipient could only see the Snap for a few seconds like Snapchat, but both the sender and the recipient would see the Snap in their Timehop day the next year. It combines the lightweight communication of Snapchat with the idea that photos get more valuable with time (Timehop!).</p>

<p>I wrote the prototype in about a day in a half. I used some existing Timehop endpoints, but it didn’t have anything as far as user log in or any styling.</p>

<p>In the end, we decided to go a different direction with the journaling idea. But I enjoyed getting a chance to do more quick prototyping, and to play around with figuring out how to code up the Snapchat mechanics.</p>

<h2 id="timestop">TimeStop</h2>

<p><strong>Status: Dead?</strong></p>

<p>TimeStop was another Timehop journaling prototype. I can attribute the original idea to my co-worker Kevin’s brother Tom.</p>

<p>The idea is that you may be out at a restaurant or a rock show and you want to “stop time” for yourself - attempt to gather as much information as possible about your current status so that you can accurately remember this <em>exact</em> moment later. This might include things like the last 5 posts in your Twitter feed, the Wikipedia article on the concert hall you’re at, the top headline of the New York Times, a few photos tagged at that location from the public Instagram feed, or a million other things.</p>

<p>It was difficult to explain my vision for the user interface for this feature, so I prototyped it.</p>

<p>Screenshots don’t do justice for this one either, but you can imagine the user pressing and holding the “STOP” button, and a bunch of photos and articles flying in from the outside of the screen getting sucked into the button. At the same time, the screen fills up blue and increases the amount of time you want to look back to gather data.</p>

<div class="caption-wrapper">&lt;img class='caption' src='/images/timestop-1.png' width='' height='' alt="While pressing and holding "STOP"" title="While pressing and holding "STOP""&gt;<div class="caption-text">While pressing and holding "STOP"</div></div>

<div class="caption-wrapper"><img class="caption" src="/images/timestop-2.png" width="" height="" alt="Representative views fly in from the sides and the blue fills up from bottom to top" title="Representative views fly in from the sides and the blue fills up from bottom to top" /><div class="caption-text">Representative views fly in from the sides and the blue fills up from bottom to top</div></div>

<p>I threw together this demo after work one night (it really deserves a GIF or a video, my bad). I didn’t code up the next step. The server would begin aggregating content based on the user’s location and then deliver it in some sort of list to the device. The user would then do a quick sort through of the compiled data and delete anything they wouldn’t consider relevant. The server then would create a package of data that could be viewed in next year’s Timehop, or maybe shared at that current moment.</p>

<p>As far as implementation, I simply schedule a random amount of animations at random locations, at random intervals, and with random images (there are only two right now). A cool thing about this project was that I used ReactiveCocoa in some critical places that made things <em>a lot</em> easier.</p>

<p>Here’s a small onslaught of the view controller code:</p>

<blockquote>
  <p>TCSTimeStopDemoViewController.m</p>
</blockquote>

<figure class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">btnTouchDown</span><span class="p">:(</span><span class="n">UIButton</span> <span class="o">*</span><span class="p">)</span><span class="nv">btn</span> <span class="p">{</span>
  <span class="n">self</span><span class="p">.</span><span class="n">progressView</span><span class="p">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">bounds</span><span class="p">;</span>
  <span class="n">self</span><span class="p">.</span><span class="n">progressView</span><span class="p">.</span><span class="n">top</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">bottom</span><span class="p">;</span>
  <span class="n">self</span><span class="p">.</span><span class="n">progressLabel</span><span class="p">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">@"STARTING UP..."</span><span class="p">;</span>
  <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">progressLabel</span> <span class="nf">sizeToFit</span><span class="p">];</span>
  <span class="n">self</span><span class="p">.</span><span class="n">progressLabel</span><span class="p">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">progressView</span><span class="p">.</span><span class="n">width</span><span class="p">;</span>
  <span class="n">self</span><span class="p">.</span><span class="n">progressLabel</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">progressView</span><span class="p">.</span><span class="n">left</span><span class="p">;</span>
  <span class="n">self</span><span class="p">.</span><span class="n">progressLabel</span><span class="p">.</span><span class="n">top</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
  
  <span class="c1">// Blue progress view animates up a slow pace
</span>  <span class="p">[</span><span class="n">UIView</span> <span class="nf">animateWithDuration</span><span class="p">:</span><span class="mi">10</span> <span class="nf">delay</span><span class="p">:</span><span class="mi">0</span> <span class="nf">options</span><span class="p">:</span><span class="n">UIViewAnimationOptionCurveLinear</span> <span class="nf">animations</span><span class="p">:</span><span class="o">^</span><span class="p">{</span>
    <span class="n">self</span><span class="p">.</span><span class="n">progressView</span><span class="p">.</span><span class="n">top</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">top</span><span class="err">;</span>
  <span class="p">}</span> <span class="nf">completion</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">BOOL</span> <span class="n">finished</span><span class="p">)</span> <span class="p">{</span>  <span class="p">}];</span>
  
  <span class="c1">// Super hacky way of changing the progress text that has to match up with the above animation
</span>  <span class="n">self</span><span class="p">.</span><span class="n">progressLabel</span><span class="p">.</span><span class="n">tag</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">RACDisposable</span> <span class="o">*</span><span class="n">progressLabelDisposable</span> <span class="o">=</span> <span class="p">[[</span><span class="n">RACScheduler</span> <span class="nf">mainThreadScheduler</span><span class="p">]</span> <span class="nf">after</span><span class="p">:[</span><span class="n">NSDate</span> <span class="nf">date</span><span class="p">]</span> <span class="nf">repeatingEvery</span><span class="p">:</span><span class="mi">1</span> <span class="nf">withLeeway</span><span class="p">:</span><span class="mi">0</span> <span class="nf">schedule</span><span class="p">:</span><span class="o">^</span><span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">progressLabel</span><span class="p">.</span><span class="n">tag</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">self</span><span class="p">.</span><span class="n">progressLabel</span><span class="p">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">@"STARTING UP..."</span><span class="err">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">progressLabel</span><span class="p">.</span><span class="n">tag</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">self</span><span class="p">.</span><span class="n">progressLabel</span><span class="p">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">@"2 MINUTES"</span><span class="err">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>  <span class="c1">// some code removed here
</span>      <span class="n">self</span><span class="p">.</span><span class="n">progressLabel</span><span class="p">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">@"24 HOURS"</span><span class="err">;</span>
    <span class="p">}</span>
    <span class="n">self</span><span class="p">.</span><span class="n">progressLabel</span><span class="p">.</span><span class="n">tag</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">progressLabel</span><span class="p">.</span><span class="n">tag</span> <span class="o">+</span> <span class="mi">1</span><span class="err">;</span>
  <span class="p">}];</span>
  <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">viewMakers</span> <span class="nf">addObject</span><span class="p">:</span><span class="n">progressLabelDisposable</span><span class="p">];</span>

  <span class="c1">// A bunch of scaled y-position making
</span>  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">yPos</span> <span class="o">=</span> <span class="o">-</span><span class="mi">50</span><span class="p">;</span> <span class="n">yPos</span> <span class="o">&lt;</span> <span class="mi">600</span><span class="p">;</span> <span class="n">yPos</span><span class="o">=</span><span class="n">yPos</span><span class="o">+</span><span class="mi">200</span><span class="p">)</span> <span class="p">{</span>

    <span class="c1">// Schedule 3 x-position animations at each for-loop y-position.
</span>    <span class="c1">// The interval at which the three animations are repeated is random.
</span>    <span class="n">RACDisposable</span> <span class="o">*</span><span class="n">viewMaker</span> <span class="o">=</span> <span class="p">[[</span><span class="n">RACScheduler</span> <span class="nf">mainThreadScheduler</span><span class="p">]</span> <span class="nf">after</span><span class="p">:[</span><span class="n">NSDate</span> <span class="nf">date</span><span class="p">]</span> <span class="nf">repeatingEvery</span><span class="p">:(((</span><span class="kt">double</span><span class="p">)</span><span class="n">arc4random_uniform</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">100</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span> <span class="nf">withLeeway</span><span class="p">:</span><span class="mi">0</span> <span class="nf">schedule</span><span class="p">:</span><span class="o">^</span><span class="p">{</span>
      <span class="n">CGFloat</span> <span class="n">leftPos</span> <span class="o">=</span> <span class="p">((</span><span class="n">CGFloat</span><span class="p">)</span><span class="n">arc4random_uniform</span><span class="p">(</span><span class="mi">200</span><span class="p">))</span><span class="o">-</span><span class="mi">200</span><span class="err">;</span>
      <span class="n">CGFloat</span> <span class="n">rightPos</span> <span class="o">=</span> <span class="p">((</span><span class="n">CGFloat</span><span class="p">)</span><span class="n">arc4random_uniform</span><span class="p">(</span><span class="mi">200</span><span class="p">))</span><span class="o">+</span><span class="mi">320</span><span class="err">;</span>
      <span class="n">CGFloat</span> <span class="n">centerPos</span> <span class="o">=</span> <span class="n">arc4random_uniform</span><span class="p">(</span><span class="mi">320</span><span class="p">)</span><span class="err">;</span>
      <span class="n">CGFloat</span> <span class="n">sidePercentage</span> <span class="o">=</span> <span class="p">(((</span><span class="n">CGFloat</span><span class="p">)</span><span class="n">arc4random_uniform</span><span class="p">(</span><span class="mi">40</span><span class="p">))</span><span class="o">+</span><span class="mi">60</span><span class="p">)</span><span class="o">/</span><span class="mi">100</span><span class="p">.</span><span class="mi">0</span><span class="err">;</span>
      <span class="n">UIImageView</span> <span class="o">*</span><span class="n">viewLeft</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIImageView</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithFrame</span><span class="p">:</span><span class="n">CGRectMake</span><span class="p">(</span><span class="n">leftPos</span><span class="p">,</span> <span class="n">yPos</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]</span><span class="err">;</span>
      <span class="n">UIImageView</span> <span class="o">*</span><span class="n">viewRight</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIImageView</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithFrame</span><span class="p">:</span><span class="n">CGRectMake</span><span class="p">(</span><span class="n">rightPos</span><span class="p">,</span> <span class="n">yPos</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]</span><span class="err">;</span>
      <span class="n">UIImageView</span> <span class="o">*</span><span class="n">viewCenter</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIImageView</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithFrame</span><span class="p">:</span><span class="n">CGRectMake</span><span class="p">(</span><span class="n">centerPos</span><span class="p">,</span> <span class="o">-</span><span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]</span><span class="err">;</span>
      <span class="n">viewLeft</span><span class="p">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">arc4random_uniform</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">?</span> <span class="p">[</span><span class="n">UIImage</span> <span class="nf">imageNamed</span><span class="p">:</span><span class="s">@"newspaper"</span><span class="p">]</span> <span class="p">:</span> <span class="p">[</span><span class="n">UIImage</span> <span class="nf">imageNamed</span><span class="p">:</span><span class="s">@"poloroid"</span><span class="p">]</span><span class="err">;</span>
      <span class="n">viewRight</span><span class="p">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">arc4random_uniform</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">?</span> <span class="p">[</span><span class="n">UIImage</span> <span class="nf">imageNamed</span><span class="p">:</span><span class="s">@"newspaper"</span><span class="p">]</span> <span class="p">:</span> <span class="p">[</span><span class="n">UIImage</span> <span class="nf">imageNamed</span><span class="p">:</span><span class="s">@"poloroid"</span><span class="p">]</span><span class="err">;</span>
      <span class="n">viewCenter</span><span class="p">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">arc4random_uniform</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">?</span> <span class="p">[</span><span class="n">UIImage</span> <span class="nf">imageNamed</span><span class="p">:</span><span class="s">@"newspaper"</span><span class="p">]</span> <span class="p">:</span> <span class="p">[</span><span class="n">UIImage</span> <span class="nf">imageNamed</span><span class="p">:</span><span class="s">@"poloroid"</span><span class="p">]</span><span class="err">;</span>
      <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">animationCanvasView</span> <span class="nf">addSubview</span><span class="p">:</span><span class="n">viewLeft</span><span class="p">]</span><span class="err">;</span>
      <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">animationCanvasView</span> <span class="nf">addSubview</span><span class="p">:</span><span class="n">viewRight</span><span class="p">]</span><span class="err">;</span>
      <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">animationCanvasView</span> <span class="nf">addSubview</span><span class="p">:</span><span class="n">viewCenter</span><span class="p">]</span><span class="err">;</span>
      <span class="p">[</span><span class="n">viewLeft</span> <span class="nf">sizeToFit</span><span class="p">]</span><span class="err">;</span>
      <span class="n">viewLeft</span><span class="p">.</span><span class="n">width</span> <span class="o">*=</span> <span class="n">sidePercentage</span><span class="err">;</span>
      <span class="n">viewLeft</span><span class="p">.</span><span class="n">height</span> <span class="o">*=</span> <span class="n">sidePercentage</span><span class="err">;</span>
      <span class="p">[</span><span class="n">viewRight</span> <span class="nf">sizeToFit</span><span class="p">]</span><span class="err">;</span>
      <span class="n">viewRight</span><span class="p">.</span><span class="n">width</span> <span class="o">*=</span> <span class="n">sidePercentage</span><span class="err">;</span>
      <span class="n">viewRight</span><span class="p">.</span><span class="n">height</span> <span class="o">*=</span> <span class="n">sidePercentage</span><span class="err">;</span>
      <span class="p">[</span><span class="n">viewCenter</span> <span class="nf">sizeToFit</span><span class="p">]</span><span class="err">;</span>
      <span class="n">viewCenter</span><span class="p">.</span><span class="n">width</span> <span class="o">*=</span> <span class="n">sidePercentage</span><span class="err">;</span>
      <span class="n">viewCenter</span><span class="p">.</span><span class="n">height</span> <span class="o">*=</span> <span class="n">sidePercentage</span><span class="err">;</span>
      <span class="p">[</span><span class="n">UIView</span> <span class="nf">animateWithDuration</span><span class="p">:((</span><span class="kt">double</span><span class="p">)</span><span class="n">arc4random_uniform</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">/</span><span class="mi">100</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span><span class="o">+</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span> <span class="nf">delay</span><span class="p">:</span><span class="mi">0</span> <span class="nf">options</span><span class="p">:</span><span class="n">UIViewAnimationOptionCurveEaseIn</span> <span class="nf">animations</span><span class="p">:</span><span class="o">^</span><span class="p">{</span>
        <span class="n">viewLeft</span><span class="p">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">CGRectMake</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">timeStopButton</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">timeStopButton</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span><span class="err">;</span>
        <span class="n">viewRight</span><span class="p">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">CGRectMake</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">timeStopButton</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">timeStopButton</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span><span class="err">;</span>
        <span class="n">viewCenter</span><span class="p">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">CGRectMake</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">timeStopButton</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">timeStopButton</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span><span class="err">;</span>
      <span class="p">}</span> <span class="nf">completion</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">BOOL</span> <span class="n">finished</span><span class="p">)</span> <span class="p">{</span>
        <span class="p">[</span><span class="n">viewLeft</span> <span class="nf">removeFromSuperview</span><span class="p">]</span><span class="err">;</span>
        <span class="p">[</span><span class="n">viewRight</span> <span class="nf">removeFromSuperview</span><span class="p">]</span><span class="err">;</span>
        <span class="p">[</span><span class="n">viewCenter</span> <span class="nf">removeFromSuperview</span><span class="p">]</span><span class="err">;</span>
      <span class="p">}]</span><span class="err">;</span>
    <span class="p">}];</span>

    <span class="c1">// Keep track of all the disposables so that we can cancel the repeating animations when the button is released/
</span>    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">viewMakers</span> <span class="nf">addObject</span><span class="p">:</span><span class="n">viewMaker</span><span class="p">];</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">btnTouchRelease</span><span class="p">:(</span><span class="n">UIButton</span> <span class="o">*</span><span class="p">)</span><span class="nv">btn</span> <span class="p">{</span>
  <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">progressView</span><span class="p">.</span><span class="n">layer</span> <span class="nf">removeAllAnimations</span><span class="p">];</span>
  <span class="n">self</span><span class="p">.</span><span class="n">progressView</span><span class="p">.</span><span class="n">top</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">bottom</span><span class="p">;</span>
  
  <span class="c1">// Dispose of all animations (thanks, ReactiveCocoa!)
</span>  <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">viewMakers</span> <span class="nf">makeObjectsPerformSelector</span><span class="p">:</span><span class="k">@selector</span><span class="p">(</span><span class="n">dispose</span><span class="p">)];</span>
  <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">viewMakers</span> <span class="nf">removeAllObjects</span><span class="p">];</span>
<span class="p">}</span></code></pre></figure>

<p>Pretty hacky, but much more elegant thanks to ReactiveCocoa. If you’ve ever worked with raw NSTimers, you understand how ugly that API is.</p>

<p>I don’t think we’re planning on revisiting the TimeStop idea at least in the near future. This demo is definitely fun to show though.</p>

<h2 id="technicolor-tv">Technicolor TV</h2>

<p><strong>Status: Under Infrequent Development</strong></p>

<p>This project is a little off the beaten path for me, but very dear to my heart in fulfilling an active need. It requires a bit of backstory though.</p>

<p>One prong in my multi-pronged approach of staying in touch with my Chicago friends is what we call simulcasting/liveblogging TV shows. My friends Bobby and Brian and I have “Wonder Years Wednesdays” in which we each watch an episode of the classic late-80’s tv show <a href="http://en.wikipedia.org/wiki/The_Wonder_Years">“The Wonder Years”</a> (we’re currently nearing the end of season 3).</p>

<p>We each watch the episode at different times of the day, so our solution to sharing our thoughts and jokes about the week’s episode was for one person to write an email with the episode timestamps of each comment. The next person that watched would reply to that email and fill in their comments the same way, but in a different font color. We did this for several weeks, and I started to get tired of the awkwardness that is line-by-line email replies.</p>

<div class="caption-wrapper"><img class="caption" src="/images/technicolor-1.png" width="" height="" alt="A very small excerpt of an email thread" title="A very small excerpt of an email thread" /><div class="caption-text">A very small excerpt of an email thread</div></div>

<p>I hadn’t done a Rails project in a while, and I was imagining the perfect webapp to automate a lot of what we were doing with the email threads. So I did a quick wireframe.</p>

<div class="caption-wrapper"><img class="caption" src="/images/technicolor-2.jpg" width="" height="" alt="Quick whiteboard wireframe" title="Quick whiteboard wireframe" /><div class="caption-text">Quick whiteboard wireframe</div></div>

<p>While thinking through the requirements, I realized that there were times where the times that we watched the episode might conflict. And I know I wouldn’t want to have to deal with refreshing the page if this happened. I put websockets back on my “to consider” list.</p>

<p>With just my very rough episode page wireframe, I started development. I decided to use Rails 4, because hey, Rails moves kind of fast. I actually did a bunch of research into making this my first foray into making a fully client-side app in Ember. I was mostly grasping the ideas, but bailed after realizing how much of the user authentication code I would have to write. I was much more interested in developing the chat part of the app than I was copying and pasting code from an Ember tutorial. I’m definitely still interested in Ember though. Maybe next time.</p>

<p>I always start out by making a markdown doc with my app’s models and routes, as well as solutions to any gotchas I think I’ll run into later. I’ve removed a bunch of the models so this post doesn’t stretch on forever.</p>

<blockquote>
  <p>planning.md</p>
</blockquote>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1">### Program</span>

<span class="o">*</span> <span class="n">integer</span> <span class="ss">:id</span>
<span class="o">*</span> <span class="n">string</span> <span class="ss">:name</span>
<span class="o">*</span> <span class="n">has_many</span> <span class="ss">:episodes</span>

<span class="c1">### Episode</span>

<span class="o">*</span> <span class="n">integer</span> <span class="ss">:id</span>
<span class="o">*</span> <span class="n">string</span> <span class="ss">:name</span>
<span class="o">*</span> <span class="n">integer</span> <span class="ss">:season</span>
<span class="o">*</span> <span class="n">integer</span> <span class="ss">:number</span>
<span class="o">*</span> <span class="n">belongs_to</span> <span class="ss">:program</span>
<span class="o">*</span> <span class="n">has_many</span> <span class="ss">:rooms</span>

<span class="c1">### Room</span>
<span class="c1">### Timestamp</span>
<span class="c1">### Comment</span>
<span class="c1">### User</span>
<span class="c1">### RoomsUsers</span>

<span class="c1">## Routes</span>

<span class="no">GET</span> <span class="sr">/dashboard =&gt; shows all rooms for a user
GET /</span><span class="n">room</span><span class="o">/</span><span class="ss">:id</span> <span class="o">=&gt;</span> <span class="n">shows</span> <span class="n">a</span> <span class="n">room</span>
<span class="no">POST</span> <span class="sr">/room/</span><span class="ss">:id</span><span class="o">/</span><span class="n">timestamp</span> <span class="o">=&gt;</span> <span class="n">creates</span> <span class="n">timestamp</span> <span class="n">and</span> <span class="n">comment</span> <span class="n">objects</span></code></pre></figure>

<p>From here, I’ll add my standard gem set. Then write my initial database migrations. Then generate models and controllers.</p>

<p>I’m still in the bad habit of not writing tests for everything. If this project gets serious, it would definitely be a good idea to fill in those blanks.</p>

<p>I’ll add a view at a time, and use those to knock out any bugs with my models and controllers. I used to use Haml, but I’ve actually switched back to standard erbs because all the extra time I’d spend debugging non-standard line constructs would usually eclipse the amount of extra time I spend writing closing tags.</p>

<p>The app really only has two screens (besides all the auth screens). The entry point is the Dashboard. It shows a list of all the Rooms the current user is a member of. A room is a place where several users discuss an episode of a program.</p>

<div class="caption-wrapper"><img class="caption" src="/images/technicolor-3.png" width="" height="" alt="The current user's Dashboard" title="The current user's Dashboard" /><div class="caption-text">The current user's Dashboard</div></div>

<p>The room detail screen shows the contents of the room.</p>

<div class="caption-wrapper"><img class="caption" src="/images/technicolor-4.png" width="" height="" alt="A room" title="A room" /><div class="caption-text">A room</div></div>

<p>The layout of the room screen is essentially threaded comments by timestamp. Creating a new timestamp and commment is the same action for the user. Typing in a timestamp like 12:41 followed by the comment text will create the timestamp thread if it doesn’t exist, or if it does it will add the comment to the end of the thread. If no timestamp is entered, it’s interpreted as 0:00, which is the defacto general thoughts thread for the room.</p>

<p>Each user has an avatar and their own text color to help easily scan for a user’s comments.</p>

<p>I also added some extra text box features. Hitting enter submits the comment. Shift+enter creates a new line in the same comment. Pressing the up key scrolls to the top of the page. Pressing the down key scrolls to the bottom.</p>

<p>Getting into the more technical details now. It took a few false starts, but I figured out how to incorporate websockets into the room. A websocket channel is opened for user when they load the room for the first time. At that time, the initial representation of the page is rendered by the server and returned. Any time a comment is created on the server, an HTML partial for the comment is rendered by the server and broadcast to the room’s websocket channel. JS on the client-side receives the comment and takes care of adding it to the DOM in the correct spot.</p>

<p>I could have also had the client send new comments via the websocket channel, but it was conceptually simpler for the server to be the main arbiter and broadcaster of data, instead of treating it as a peer on the channel. It also makes sense that if the server somehow fails to store the comment, the other clients shouldn’t have a copy of that comment.</p>

<p>Following that logic, adding a comment is a standard AJAX POST to the server. The server receives the comment, stores it, broadcasts it on the room’s websocket channel, and all subscribed clients parse the partial and add it to the DOM. This includes the client that created the comment. It actually saves me a step of having to deal with adding a comment to the DOM that has no server assigned ID, and then updating it once the request from the server is successful.</p>

<p>It works the same way with deleting comments. I have yet to implement editing (deleting and resubmitting the comment is the workaround for now).</p>

<p>Working with websockets was pretty magical. I had a bit of a scare though. I had written and tested all the websocket features locally, but didn’t realize that Heroku didn’t support them! Luckily, at almost exactly the time I was ready to deploy to production, Heroku released a websockets beta feature that I could quickly enable.</p>

<p>I learned a rough lesson that sometimes even when you custom build a solution to your problem, there are nuances you can’t easily conquer. More specifically, my friend Bobby spends a lot of time on his phone, and email is most convenient for him. The app is responsive out of the box enough to read on a mobile device, but I haven’t spent the time to make sure the comment box appears correctly. The app also requires a log in step, which email does not. And email also has built in notifications, and Technicolor doesn’t send out any type of email notifications or push notifications yet when another room member comments.</p>

<p>None of these feature requests are impossible. But each requires another significant time investment that’s hard to justify for a user base of three. There are several lessons here:</p>

<ul>
  <li>Sometimes it takes significant investment to beat the hack solution to a problem.</li>
  <li>Hack solutions often get a lot of features for free that your custom solution needs a custom feature to equal.</li>
  <li>It’s important to really know your users. My users are my <em>best friends</em> and even then I didn’t understand their use cases well enough to make the right solution on the first shot.</li>
</ul>

<p>The future of Technicolor is unclear. My friends and I are still planning on using it for Wonder Years Wednesdays and probably some other shows soon (Brian and I used it simultaneously for the last couple episodes of Homeland and it was a lot of fun).</p>

<p>I’d really like to turn it into a real product, but I doubt this is a common behavior, or that I could convince people how much fun it is. Maybe some day I’ll cobble together an iPhone app (although Brian is an Android user so it would only be two of us that could use it). I could also do email notifications, even if they started out as manually triggered.</p>

<p>Still a plenty to do, but again, I had a lot of fun writing this (it took a few weekends), and it was great to dive back into Rails and learn a bunch of new stuff about websockets.</p>

<h2 id="insurance-app">Insurance App</h2>

<p>I committed to a freelance iOS project back in January of last year (wow, time flies) for a small insurance broker in Chicago. My good friend and expert designer <a href="http://www.waterfallmedia.net/">CJ</a> handled the product and design for the app, and after a bit of a hiatus we started working on it again in late November.</p>

<p>Here’s an <a href="https://itunes.apple.com/us/app/robert-james-on-the-road/id795304884?mt=8">App Store link</a> if you want to download it or see more screenshots.</p>

<p>There were actually a lot of interesting constraints to this project.</p>

<div class="caption-wrapper"><img class="caption" src="/images/insuranceapp-1.png" width="" height="" alt="The home screen" title="The home screen" /><div class="caption-text">The home screen</div></div>

<p>On the front layer of the app there were a few informational screens that I used a template view controller to coordinate. All four view controllers subclassed the base view controller and overrode class methods that returned static data for each. The base controller would gather text or image data from these methods and layout the views the same way.</p>

<div class="caption-wrapper"><img class="caption" src="/images/insuranceapp-2.png" width="" height="" alt="An informational screen" title="An informational screen" /><div class="caption-text">An informational screen</div></div>

<p>I began the project by attempting to put a figurative firewall between the raw content and the layout. I put all the content in a plist and created a framework around drawing that data into the specific controllers. I eventually abandoned that method because it actually makes things a lot more complicated in an app with a very simple scope. It would have been nice to be able to fetch a plist from S3 when the client wanted to update the content of the app, but that was hardly a requirement, and at this point would be over-optimization.</p>

<p>The bulk of the app was a data collection utility for customers to input and submit data about a car accident.</p>

<div class="caption-wrapper"><img class="caption" src="/images/insuranceapp-3.png" width="" height="" alt="The table of contents for the accident utility" title="The table of contents for the accident utility" /><div class="caption-text">The table of contents for the accident utility</div></div>

<p>Our goal was to make the flow very predictable, even if all the data sources were very different.</p>

<div class="caption-wrapper"><img class="caption" src="/images/insuranceapp-4.png" width="" height="" alt="Choosing a location for the accident" title="Choosing a location for the accident" /><div class="caption-text">Choosing a location for the accident</div></div>

<p>Each screen has its own development quirks. UIKit can be frustrating sometimes. iOS 7 bugs bit me a lot especially with view controller transitions. But by the end, I think it came together well.</p>

<p>For the backend of the app, I used another Team Github library called <a href="https://github.com/MantleFramework/Mantle">Mantle</a> which I highly recommend for non-database-backed apps. The requirements for my model were that the accident report needed to be saved between uses and deleted after being submitted to the insurance company.</p>

<p>The app also had a unconventional saving structure on sub-screens. In where most Mac/iOS apps, it’s customary to save immediately on changing an attribute, this app requires a specific user action in order to execute a save (tapping the save button). Therefore, I had to craft the memory and delegation model to keep a temporary copy of an object in the detail controller, and then pass back that object on save to replace the old one. There was actually two layers of this before the attribute was saved to disk.</p>

<p>Once an accident report is submitted, I save the file as an archived file with the date and delete the current file. That way, a user always has a copy of their submitted reports. Even though we didn’t have the budget to build a section to browse previously submitted reports, in the current structure, it would be trivial to implement if requested later. As of now, the user could reload a past accident report using the iTunes interface.</p>

<p>The last unique part of this app was the actual submission from user to the insurance company. If I submitted the data and images using a normal POST, we would immediately need to write a backend webapp to receive and store the data, and an admin interface for the insurance company to access the reports. We would also need to notify the insurance company when the new report was submitted. And to add to the complexity, we would also need to create additional fields for capturing the user name, or possibly even have user authentication. There wasn’t any budget for this additional functionality, so we solved the problem by using good ol’ MFMailComposeController. I formatted the text in an email, adding images as attachments, and let the user send it. This gives the insurance company immediate notification, a CMS that everyone understands (email program), a database with search (email program), user identification (email address and name), and lead generation for users that aren’t currently customers.</p>

<p>Overall, I think the app turned out pretty well, especially for a smaller budget project.</p>

<h2 id="photo-sharing-app">Photo Sharing App</h2>

<p><strong>Status: In Active Development</strong></p>

<p>Don’t ask me why, but I’ve decided to write a photo sharing iOS app. This particular idea was spawned from another photo sharing app idea I had a couple weeks ago.</p>

<p>Last week I made some visual mockups (it’s only seven screens so far, not including authentication or onboarding screens). I’ve spent a couple days writing code.</p>

<p>The new things I’m focusing on for this project are using Parse for the backend and leveling up with <a href="https://github.com/ReactiveCocoa/ReactiveCocoa">ReactiveCocoa</a>. This is my first time doing things the NoSQL way, so that’s been enlightening. So far Parse has been surprisingly refreshing to use. The API is very clean, and although I’ve run into a couple snags so far, they’re not kidding about being able to get a prototype off the ground extremely quick.</p>

<p>The other unexpected awesomeness about using Parse and ReactiveCocoa is using the <a href="https://github.com/kastiglione/Parse-RACExtensions">ReactiveExtensions</a>. These are simple RACSignal producing wrappers for parse saving/fetching/deleting/etc. methods that are usually block or delegate based. They make life a lot easier, and allow a lot of elegant chaining operations.</p>

<p>I will most likely write up an entire post on this project or maybe even open source the code once I’ve hit V1. In the mean time, message me on <a href="https://twitter.com/TwoCentStudios">twitter</a> if you’re interested in beta testing.</p>

<h2 id="whats-next">What’s Next?</h2>

<p>It’s always good to throw out some general and specific goals for the next quarter.</p>

<ul>
  <li>My top priority is getting a beta out of my untitled photo sharing app and seeing if it’s any fun.</li>
  <li>Circle back to the backlog of Vinylogue, SocketParty, and Technicolor.</li>
  <li>I still think that someday I’ll think of a project I can work on to learn Haskell.</li>
  <li>I’d like to open source some sort of generalized iOS component.</li>
  <li>Rewrite the backend of the Timehop app once I figure out what strategy I should use (and find the time).</li>
  <li>Write a blog post with a little to a lot of sample code at the end of every sprint.</li>
  <li>Run the backend stack frequently and start contributing to the backend codebase at Timehop.</li>
  <li>Get quicker and more efficient working with git and managing branches.</li>
  <li>Learn vim and/or get faster editing with Xcode (is that possible?).</li>
  <li>Learn more about OAuth, TLS, Facebook and Twitter login, and general app security.</li>
</ul>

<p>That seems like a healthy set of things to do.</p>

<p>Until next time.</p>


  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">twocentstudios</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li><a href="mailto:chris@twocentstudios.com">chris@twocentstudios.com</a></li>
          
          <li>
            <a href="https://github.com/twocentstudios">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">twocentstudios</span>
            </a>
          </li>
          

          <li>
            <a href="https://hackyderm.io/@twocentstudios">
              <span class="icon">
                <svg viewBox="0 0 24 24">
                  <path fill="#828282" d="M21.327 8.566c0-4.339-2.843-5.61-2.843-5.61-1.433-.658-3.894-.935-6.451-.956h-.063c-2.557.021-5.016.298-6.45.956 0 0-2.843 1.272-2.843 5.61 0 .993-.019 2.181.012 3.441.103 4.243.778 8.425 4.701 9.463 1.809.479 3.362.579 4.612.51 2.268-.126 3.541-.809 3.541-.809l-.075-1.646s-1.621.511-3.441.449c-1.804-.062-3.707-.194-3.999-2.409a4.523 4.523 0 0 1-.04-.621s1.77.433 4.014.536c1.372.063 2.658-.08 3.965-.236 2.506-.299 4.688-1.843 4.962-3.254.434-2.223.398-5.424.398-5.424zm-3.353 5.59h-2.081V9.057c0-1.075-.452-1.62-1.357-1.62-1 0-1.501.647-1.501 1.927v2.791h-2.069V9.364c0-1.28-.501-1.927-1.502-1.927-.905 0-1.357.546-1.357 1.62v5.099H6.026V8.903c0-1.074.273-1.927.823-2.558.566-.631 1.307-.955 2.228-.955 1.065 0 1.872.409 2.405 1.228l.518.869.519-.869c.533-.819 1.34-1.228 2.405-1.228.92 0 1.662.324 2.228.955.549.631.822 1.484.822 2.558v5.253z"/>
                </svg>
              </span>

              <span class="username">twocentstudios</span>
            </a>
          </li>

          
          <li>
            <a href="https://twitter.com/twocentstudios">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">twocentstudios</span>
            </a>
          </li>
          
        </ul>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
